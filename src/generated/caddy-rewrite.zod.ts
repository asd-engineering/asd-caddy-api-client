// Generated by ts-to-zod
import { z } from "zod";

export const substrReplacerSchema = z.object({
  find: z.string().optional(),
  replace: z.string().optional(),
  limit: z.number().optional(),
});

export const regexReplacerSchema = z.object({
  find: z.string().optional(),
  replace: z.string().optional(),
});

export const queryOpsSchema = z.object({
  delete: z.array(z.string()).optional(),
  set: z.record(z.string(), z.string()).optional(),
  add: z.record(z.string(), z.array(z.string())).optional(),
  replace: z.record(z.string(), z.array(z.string())).optional(),
  rename: z.array(z.record(z.string(), z.string())).optional(),
});

export const rewriteSchema = z.object({
  method: z.string().optional(),
  uri: z.string().optional(),
  strip_path_prefix: z.string().optional(),
  strip_path_suffix: z.string().optional(),
  uri_substring: z.array(substrReplacerSchema).optional(),
  path_regexp: z.array(z.union([regexReplacerSchema, z.undefined()])).optional(),
  query: queryOpsSchema.optional(),
});
