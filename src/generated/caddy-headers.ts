// Code generated by tygo. DO NOT EDIT.

//////////
// source: headers.go

/**
 * Handler is a middleware which modifies request and response headers.
 * Changes to headers are applied immediately, except for the response
 * headers when Deferred is true or when Required is set. In those cases,
 * the changes are applied when the headers are written to the response.
 * Note that deferred changes do not take effect if an error occurs later
 * in the middleware chain.
 * Properties in this module accept placeholders.
 * Response header operations can be conditioned upon response status code
 * and/or other header values.
 */
export interface Handler {
  request?: HeaderOps;
  response?: RespHeaderOps;
}
/**
 * HeaderOps defines manipulations for HTTP headers.
 */
export interface HeaderOps {
  /**
   * Adds HTTP headers; does not replace any existing header fields.
   */
  add?: any /* http.Header */;
  /**
   * Sets HTTP headers; replaces existing header fields.
   */
  set?: any /* http.Header */;
  /**
   * Names of HTTP header fields to delete. Basic wildcards are supported:
   * - Start with `*` for all field names with the given suffix;
   * - End with `*` for all field names with the given prefix;
   * - Start and end with `*` for all field names containing a substring.
   */
  delete?: string[];
  /**
   * Performs in-situ substring replacements of HTTP headers.
   * Keys are the field names on which to perform the associated replacements.
   * If the field name is `*`, the replacements are performed on all header fields.
   */
  replace?: { [key: string]: Replacement[]};
}
/**
 * Replacement describes a string replacement,
 * either a simple and fast substring search
 * or a slower but more powerful regex search.
 */
export interface Replacement {
  /**
   * The substring to search for.
   */
  search?: string;
  /**
   * The regular expression to search with.
   */
  search_regexp?: string;
  /**
   * The string with which to replace matches.
   */
  replace?: string;
}
/**
 * RespHeaderOps defines manipulations for response headers.
 */
export interface RespHeaderOps {
  HeaderOps?: HeaderOps;
  /**
   * If set, header operations will be deferred until
   * they are written out and only performed if the
   * response matches these criteria.
   */
  require?: any /* caddyhttp.ResponseMatcher */;
  /**
   * If true, header operations will be deferred until
   * they are written out. Superseded if Require is set.
   * Usually you will need to set this to true if any
   * fields are being deleted.
   */
  deferred?: boolean;
}
