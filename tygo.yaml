# tygo configuration for generating TypeScript from Caddy Go source
# Expanded to cover all HTTP handlers for complete type coverage

packages:
  # Core Caddy types
  - path: "./local/caddy"
    output_path: "src/generated/caddy-core.ts"
    type_mappings:
      "json.RawMessage": "unknown"
      "time.Duration": "number | string"
      "caddy.Duration": "number | string"

  # HTTP module types (includes base handlers: static_response, error, subroute, vars, invoke)
  - path: "./local/caddy/modules/caddyhttp"
    output_path: "src/generated/caddy-http.ts"
    type_mappings:
      "json.RawMessage": "unknown"
      "time.Duration": "number | string"
      "caddy.Duration": "number | string"

  # TLS module types
  - path: "./local/caddy/modules/caddytls"
    output_path: "src/generated/caddy-tls.ts"
    type_mappings:
      "json.RawMessage": "unknown"
      "time.Duration": "number | string"
      "caddy.Duration": "number | string"

  # Handler-specific modules
  - path: "./local/caddy/modules/caddyhttp/reverseproxy"
    output_path: "src/generated/caddy-reverseproxy.ts"
    type_mappings:
      "json.RawMessage": "unknown"
      "time.Duration": "number | string"
      "caddy.Duration": "number | string"

  - path: "./local/caddy/modules/caddyhttp/fileserver"
    output_path: "src/generated/caddy-fileserver.ts"
    type_mappings:
      "json.RawMessage": "unknown"
      "time.Duration": "number | string"
      "caddy.Duration": "number | string"

  - path: "./local/caddy/modules/caddyhttp/encode"
    output_path: "src/generated/caddy-encode.ts"
    type_mappings:
      "json.RawMessage": "unknown"
      "time.Duration": "number | string"
      "caddy.Duration": "number | string"

  - path: "./local/caddy/modules/caddyhttp/headers"
    output_path: "src/generated/caddy-headers.ts"
    type_mappings:
      "json.RawMessage": "unknown"
      "time.Duration": "number | string"
      "caddy.Duration": "number | string"

  - path: "./local/caddy/modules/caddyhttp/rewrite"
    output_path: "src/generated/caddy-rewrite.ts"
    type_mappings:
      "json.RawMessage": "unknown"
      "time.Duration": "number | string"
      "caddy.Duration": "number | string"

  - path: "./local/caddy/modules/caddyhttp/caddyauth"
    output_path: "src/generated/caddy-auth.ts"
    type_mappings:
      "json.RawMessage": "unknown"
      "time.Duration": "number | string"
      "caddy.Duration": "number | string"

  - path: "./local/caddy/modules/caddyhttp/templates"
    output_path: "src/generated/caddy-templates.ts"
    type_mappings:
      "json.RawMessage": "unknown"
      "time.Duration": "number | string"
      "caddy.Duration": "number | string"

  - path: "./local/caddy/modules/caddyhttp/map"
    output_path: "src/generated/caddy-map.ts"
    type_mappings:
      "json.RawMessage": "unknown"
      "time.Duration": "number | string"
      "caddy.Duration": "number | string"

  - path: "./local/caddy/modules/caddyhttp/push"
    output_path: "src/generated/caddy-push.ts"
    type_mappings:
      "json.RawMessage": "unknown"
      "time.Duration": "number | string"
      "caddy.Duration": "number | string"

  - path: "./local/caddy/modules/caddyhttp/requestbody"
    output_path: "src/generated/caddy-requestbody.ts"
    type_mappings:
      "json.RawMessage": "unknown"
      "time.Duration": "number | string"
      "caddy.Duration": "number | string"

  - path: "./local/caddy/modules/caddyhttp/intercept"
    output_path: "src/generated/caddy-intercept.ts"
    type_mappings:
      "json.RawMessage": "unknown"
      "time.Duration": "number | string"
      "caddy.Duration": "number | string"

  - path: "./local/caddy/modules/caddyhttp/tracing"
    output_path: "src/generated/caddy-tracing.ts"
    type_mappings:
      "json.RawMessage": "unknown"
      "time.Duration": "number | string"
      "caddy.Duration": "number | string"

  - path: "./local/caddy/modules/caddyhttp/logging"
    output_path: "src/generated/caddy-logging.ts"
    type_mappings:
      "json.RawMessage": "unknown"
      "time.Duration": "number | string"
      "caddy.Duration": "number | string"
